---
import type { HTMLAttributes } from 'astro/types'
import { Copyright, Share2 } from 'lucide-vue-next'
import ShareButton from './ShareButton.astro'

type Props = HTMLAttributes<'div'> & {
    title?: string
    author?: string
    url: string
    description?: string
}

const { title, author, url, description, class: className, ...props } = Astro.props
---

<section class:list={['card relative border border-base-300 shadow-md w-full p-4 flex flex-col gap-2 overflow-hidden', className]} {...props}>
    <Copyright class="absolute -bottom-12 -right-12 size-52 -z-[1] overflow-clip opacity-20" />
    { title && <div class="font-bold">{title}</div> }
    { author && <div class="font-semibold">作者：{author}</div> }
    <a class="text-sm" href={url}>
        {decodeURIComponent(url)}
    </a>
    <div class="text-sm">
        本站除注明转载外均为原创文章，采用 <b>CC BY-NC-ND 4.0</b> 协议。转载请注明出处，不得用于商业用途。
    </div>
    <ShareButton
      title={title}
      url={url}
      text={description}
      class="absolute right-0 top-0 m-2"
    >
        <Share2 class="size-6 mask-square" />
    </ShareButton>
</section>
