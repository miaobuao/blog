---
import type { HTMLAttributes } from 'astro/types'
import AuthorAvatar from './AuthorInfo/AuthorAvatar.astro'
import Search from './Search.astro'
import config from '@/consts'
import { cn } from '@/theme/lib/utils'

type Props = HTMLAttributes<'header'>

const { class: className, ...props } = Astro.props
const avatarTargetUrl = Astro.url.pathname === '/' ? '/about' : '/'
---

<div class={cn('bg-base-100 flex flex-row items-center mx-2 gap-2', className)} {...props}>
  <!-- 大于md时展示title -->
  <div class="md:block hidden">
    <a class="btn btn-ghost text-xl" href="/">
      {config.site.title}
    </a>
  </div>
  <!-- 小于md时展示头像 -->
  <a href={avatarTargetUrl} class="md:hidden">
    <AuthorAvatar class="mask mask-squircle bg-neutral w-12 text-neutral-content font-semibold text-lg" />
  </a>

  <Search class="m-2 md:flex-1 md:max-w-96 md:m-2 md:ml-auto md:mr-4" />
</div>
